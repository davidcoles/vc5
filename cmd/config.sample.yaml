---

# Single untagged interface, load balancer IP is 10.1.10.100:
# vc5 config.json 10.1.10.100 eth0

# With tagged VLANs on one interface, vlan section uncommented and other VLAN services added:
# vc5 config.json 10.1.10.100 eth0

# vlan secion enabled, two separate interfaces on different, untagged, VLANs:
# vc5 -u config.json 10.1.10.100 eth0 eth1

# Route Host Injection - BGP settings
rhi:
  as_number: 65000
  peers:
    - 10.1.10.200

# If Teams or Slack webhook URLs are set then messages of level <alert> (default 0) or lower wil be sent to the channel.
# If elasticsearch/index is set then all logs will be written to elasticsearch
# Other setting are optional, and the usual Elasticsearch environment variables will be consulted by the library
    
#logging:
#  #alert: 4 # 0:EMERG, 1:ALERT, 2:CRIT, 3:ERR, 4:WARNING, 5:NOTICE, 6:INFO, 7:DEBUG
#  #teams: https://myorganisation.webhook.office.com/webhookb2/....
#  #slack: https://hooks.slack.com/services/....
#  elasticsearch:
#    index: vc5
#    #addresses:
#    #  - http://10.1.2.31/    
#    #  - http://10.1.2.32/    
#    #username: elastic
#    #password: Xg5nRkc9RA3hALMiBw8X
    
#vlans:
#  10: 10.1.10.0/24
#  20: 10.1.20.0/24

services:
  
  - name: nginx
    virtual:
      - 192.168.101.1
    servers:
      - 10.1.10.1
      - 10.1.10.2
      - 10.1.10.3            
    need: 1
    path: /alive
    policy:
      http:
        
#  - name: bind
#    description: DNS server on a different VLAN
#    virtual:
#      - 192.168.101.2
#    servers:
#      - 10.1.20.1
#      - 10.1.20.2
#      - 10.1.20.3
#    policy:
#      domain:
